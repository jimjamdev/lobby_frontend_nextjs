import type { NextPage } from 'next';
import Head from 'next/head';

import { DefaultTemplate } from '~components/templates/DefaultTemplate';
import { useGetGamesQuery } from '~store/features/cms/games';

function TestHeader() {
  return <div>Header</div>;
}

function TestNav() {
  return <div>Nav</div>;
}

function TestFooter() {
  return <div>Footer</div>;
}

function TestMobileNav() {
  return <div>MobileNav</div>;
}

// eslint-disable-next-line react/function-component-definition
const Home: NextPage = () => {
  const { data: games, isLoading: isGamesLoading } = useGetGamesQuery({ page: 1 });

  return (
    <DefaultTemplate
      header={<TestHeader />}
      topNav={<TestNav />}
      footer={<TestFooter />}
      mobileNav={<TestMobileNav />}
    >
      <Head>
        <title>Lobby - Green Jade</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <ul>
        {isGamesLoading && <div>Loading...</div>}
        <li>{games && games?.meta?.pagination?.total} Results</li>
        {games?.data
          && games?.data?.map((game) => {
            console.log('**game', game);
            return <li key={game.id}>{game.name}</li>;
          })}
      </ul>
    </DefaultTemplate>
  );
};

export default Home;
